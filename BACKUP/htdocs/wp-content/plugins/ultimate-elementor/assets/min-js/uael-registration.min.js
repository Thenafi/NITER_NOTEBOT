!function(h){UAELRegistrationForm={_checkPasswordStrength:function(e){var a=e.find("input[type=password]").val(),t=e.find(".uael-pass-wrapper"),r=e.find(".uael-pass-notice");switch(t.css("display","block"),wp.passwordStrength.meter(a,wp.passwordStrength.userInputBlacklist(),a)){case-1:break;case 2:r.html(pwsL10n.bad).css("color","#e07757");break;case 3:r.html(pwsL10n.good).css("color","#f0ad4e");break;case 4:r.html(pwsL10n.strong).css("color","#5cb85c");break;case 5:r.html(pwsL10n.mismatch).css("color","#f0ad4e");break;default:r.html(pwsL10n.short).css("color","#d9534f")}},_printErrorMessages:function(e,a,t){a.next().hasClass("uael-register-field-message")||a.after('<span class="uael-register-field-message"><span class="uael-register-error">'+t+"</span></span>")},_submitForm:function(e,a,n){var t=uael_script.url,o=!1,d=/\S+@\S+\.\S+/,l=!1,r=n.find(".uael-registration-form"),s=r.attr("data-redirect-url"),i=e.find(".uael-registration-submit"),c=r.find(".form-field-password"),u=r.find(".uael-input-fields"),f=!0,m={},g=n.find(".uael-g-recaptcha-field");if(m.page_id=a.data("page-id"),m.widget_id=n.data("id"),0<g.length&&(m.is_recaptcha_enabled="yes",m.recaptcha_token=r.find(".uael-g-recaptcha-response").val()),u.each(function(e){var a=h(this),t=a.find(".elementor-field"),r=t.attr("name"),s=a.hasClass("elementor-field-required"),i=t.val();0<t.length&&""!==i?("email"===r&&(i=i.trim(),d.test(i)?t.siblings(".uael-register-field-message").hide():(o=!0,UAELRegistrationForm._printErrorMessages(n,t,uaelRegistration.invalid_mail))),"password"===l&&(l=!0),"confirm_pass"===r?c.val()!==t.val()&&(o=!0,UAELRegistrationForm._printErrorMessages(n,t,uaelRegistration.pass_unmatch)):""!==i&&""!==r&&(m[r]=i)):0<t.length&&s&&(o=!0,UAELRegistrationForm._printErrorMessages(n,t,uaelRegistration.required)),t.hasClass("uael-regform-set-field")&&""!==i&&(f=!1,n.find(".uael-registration-message").addClass("error").text("Invalid Form!")),m[r]=i}),f){m.auto_login=r.attr("data-auto_login"),m.send_email=r.attr("data-send_email"),m.send_email_password=0==l?"yes":"no";var p=n.find("input#uael-reg-form-nonce").val();if(n.find(".uael-registration-message").text("").removeClass("success error"),o)return!1;h.post(t,{action:"uael_register_user",data:m,nonce:p,method:"post",dataType:"json",beforeSend:function(){r.animate({opacity:"0.45"},500).addClass("uael-form-waiting"),i.hasClass("disabled")||o||(i.addClass("disabled"),i.append('<span class="uael-form-loader"></span>')),c.siblings(".uael-pass-wrapper").remove()}},function(e){0<g.length&&(recaptcha_id=g.attr("data-widgetid"),grecaptcha.reset(recaptcha_id),grecaptcha.execute(recaptcha_id)),!0===e.success?("yes"!==m.auto_login||void 0!==s&&""!==s?void 0!==s&&""!==s&&window.setTimeout(function(){window.location=s}):location.reload(),"yes"===r.attr("data-hide_form")?r.find(".elementor-form").remove():(i.find(".uael-form-loader").remove(),i.removeClass("disabled"),n.find(".uael-register-field-message").remove(),n.find(".elementor-form").trigger("reset")),r.animate({opacity:"1"},100).removeClass("uael-form-waiting"),"yes"!==r.attr("data-hide_form")&&($success_text=a.data("success-message"),n.find(".uael-registration-message").removeClass("error").addClass("success").text($success_text))):(r.animate({opacity:"1"},100).removeClass("uael-form-waiting"),i.find(".uael-form-loader").remove(),i.removeClass("disabled"),n.find(".uael-register-field-message").remove(),jQuery.each(e.error,function(e,a){var t=n.find(".form-field-"+e);UAELRegistrationForm._printErrorMessages(n,t,a)}),void 0===e.error&&($error_text=a.data("error-message"),n.find(".uael-registration-message").removeClass("success").addClass("error").text($error_text)))})}}},window.onLoadUAEReCaptcha=function(){var t,e=h(".uael-g-recaptcha-field");0<e.length&&e.each(function(){var a=h(this),e=a.attr("data-widgetid");void 0!==e&&!1!==e||(t=grecaptcha.render(h(this).attr("id"),{sitekey:a.data("sitekey"),callback:function(e){""!=e&&a.append(jQuery("<input>",{type:"hidden",value:e,class:"uael-g-recaptcha-response"}))}}),a.attr("data-widgetid",t))})};function e(a,t){if(void 0!==a){a.data("id");var e=a.find(".uael-register-submit"),r=a.find("input[type=password]"),s=a.find(".uael-registration-form");s.find(".elementor-form");if("yes"==s.data("strength-check")&&r.on("keyup",function(e){UAELRegistrationForm._checkPasswordStrength(a)}),r.on("focusout",function(e){""===a.find("input[type=password]").val()&&a.find(".uael-pass-wrapper").css("display","none")}),a.find(".elementor-field").on("keyup",function(e){t(this).siblings(".uael-register-field-message").remove()}),0<a.find(".uael-recaptcha-alert").length)e.addClass("uael-submit-disabled");else{var i=a.find(".uael-g-recaptcha-field");e.removeClass("uael-submit-disabled"),elementorFrontend.isEditMode()&&null==i.attr("data-widgetid")&&onLoadUAEReCaptcha(),0<i.length&&grecaptcha.ready(function(){recaptcha_id=i.attr("data-widgetid"),grecaptcha.execute(recaptcha_id)})}e.on("click",function(){event.preventDefault();var e=t(this);UAELRegistrationForm._submitForm(e,s,a)})}}h(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/uael-registration-form.default",e)})}(jQuery);