!function(y){y.fn.twentytwenty=function(v){v=y.extend({default_offset_pct:.5,orientation:"horizontal",move_on_hover:!1},v);return this.each(function(){var e=v.default_offset_pct,o=y(this),d=v.orientation,t="vertical"===d?"down":"left",n="vertical"===d?"up":"right",i=Boolean(v.move_on_hover),f=o.find("img:first"),s=o.find("img:last"),w=o.find(".twentytwenty-handle"),a=o.find(".twentytwenty-overlay");y(this).hasClass("twentytwenty-container")||(o.wrap("<div class='twentytwenty-wrapper twentytwenty-"+d+"'></div>"),o.append("<div class='twentytwenty-overlay'></div>"),f=o.find("img:first"),s=o.find("img:last"),o.append("<div class='twentytwenty-handle'></div>"),(w=o.find(".twentytwenty-handle")).append("<span class='twentytwenty-"+t+"-arrow'></span>"),w.append("<span class='twentytwenty-"+n+"-arrow'></span>"),o.addClass("twentytwenty-container"),f.addClass("twentytwenty-before"),s.addClass("twentytwenty-after"),(a=o.find(".twentytwenty-overlay")).append("<div class='twentytwenty-before-label'></div>"),a.append("<div class='twentytwenty-after-label'></div>"));function c(t){var e,n,i,s,a=(e=t,n=f.width(),i=f.height(),{w:n+"px",h:i+"px",cw:e*n+"px",ch:e*i+"px"});w.css("vertical"===d?"top":"left","vertical"===d?a.ch:a.cw),s=a,"vertical"===d?f.css("clip","rect(0,"+s.w+","+s.ch+",0)"):f.css("clip","rect(0,"+s.cw+","+s.h+",0)"),o.css("height",s.h)}y(window).on("resize.twentytwenty",function(t){c(e)});var l=0,r=0;w.on("movestart",function(t){(t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==d?t.preventDefault():(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===d&&t.preventDefault(),o.addClass("active"),l=o.offset().left,offsetY=o.offset().top,r=f.width(),imgHeight=f.height()}),w.on("moveend",function(t){i||o.removeClass("active")}),w.on("move",function(t){o.hasClass("active")&&((e="vertical"===d?(t.pageY-offsetY)/imgHeight:(t.pageX-l)/r)<0&&(e=0),1<e&&(e=1),c(e))}),o.find("img").on("mousedown",function(t){t.preventDefault()}),i&&(o.on("mouseenter",function(t){o.addClass("active"),l=o.offset().left,offsetY=o.offset().top,r=f.width(),imgHeight=f.height()}),o.on("mouseleave",function(t){o.removeClass("active")}),o.on("mousemove",function(t){o.hasClass("active")&&((e="vertical"===d?(t.pageY-offsetY)/imgHeight:(t.pageX-l)/r)<0&&(e=0),1<e&&(e=1),c(e))})),y(window).trigger("resize.twentytwenty")})}}(jQuery);