<!DOCTYPE html>
<html lang="en">
   <head>
      <link rel="icon" href="https://i.ibb.co/gzC5K94/received-2119028734810944.png" type="image/gif" sizes="16x16">
      <title>NITER NOTEBOT </title>
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>
      <style>
         h1{
         text-align: center;
         margin-top: 20px;
         margin-bottom: 30px;
         }
         .buttonone{
         text-align: center;
         margin-top: 20px;
         margin-bottom: 30px;
         }
         * {
         box-sizing: border-box;
         }
         #myInput {
         width: 100%;
         font-size: 15px;
         padding: 12px 20px 12px 40px;
         border: 1px solid #ddd;
         margin-bottom: 12px;
         }
         h1{
         font-family: 'Indie Flower', cursive;
         color: cadetblue;
         text-align: center;
         font-size: 45px;
         margin-top: 20px;
         }
         a {
         color: rgb(34, 28, 28);
         }
         #myTable {
         border-collapse: collapse;
         width: 100%;
         border: 1px solid #ddd;
         font-size: 15px;
         }
         #myTable th, #myTable td {
         vertical-align: middle;
         text-align: center;
         padding-top: 10px;
         padding-bottom: 10px;
         }
         #myTable tr {
         border-bottom: 1px solid #ddd;
         }
         #myTable tr.header, #myTable tr:hover {
         background-color: #f1f1f1;
         }
         .example{
         display: none;
         }
         div.sticky {
         position: -webkit-sticky;
         position: sticky;
         top: 0;
         padding: 6px;
         }
         .buttonone{
         text-align: center;
         }
         #home{
         margin-left: 20px;
         }
         .underdot{
         padding: 10px;
         }
         .hit
         {
         margin-top: 10px;
         text-align: center;
         margin-bottom: 6px;
         }
      </style>
   </head>
   <body>
      <h1>NITER PhoneBook</h1>
      <div class="buttonone">
         <a href ="https://niternotebot.web.app"><button id="home" type="button" class="btn btn-outline-dark" >NITER NOTEBOT</button></a>
      </div>
      <div class="sticky">
         <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search by names, Blood_Group, Batch.." title="Type in a name">
      </div>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
      <style>
         th{ 
         color:#fff;
         }
      </style>
      <table id="myTable" class="table table-striped">
         <tr  class="bg-info">
            <th>Name</th>
            <th>Batch</th>
            <th>Department</th>
            <th>Phone</th>
            <th>Email</th>
            <th>Blood Group</th>
            <th>Current Location</th>
            <th>ID</th>
         </tr>
         <tbody id="myble">
         </tbody>
      </table>
      <script>
         var myArray = []
         
         buildTable(myArray)
         
         $.ajax({
         	method:'GET',
         	url:'https://gsx2json.com/api?id=1Nu7GGynQslu358y0Cjwx7Gynn8stWkFTSEfu1AciikE&&columns=false&sheet=Form%20Responses%201',
         	success:function(response){
         		myArray = response.rows
         		buildTable(myArray)
         		console.log(myArray)
         	}
         })
         
         
         
         function buildTable(rows){
         	var table = document.getElementById('myble')
         
         	for (var i = 0; i < rows.length; i++){
         		var row = `<tr>
         						<td>${rows[i].Name}</td>
         						<td>${rows[i].Batch}</td>
         						<td>${rows[i].Department}</td>
                           <td>
                           <a href="tel:${rows[i].Phone}"> ${rows[i].Phone}</a></td>
                           <td>
                              <a href = "mailto: ${rows[i].Email}">${rows[i].Email}</a>
                              </td>
                           
                           <td>${rows[i].Blood_Group}</td>
                           <td>${rows[i].Current_Location}</td>
                           <td>${rows[i].ID}</td>
         				  </tr>`
         		table.innerHTML += row
         
         
         	}
         }
         
      </script>
      <script>
         function myFunction() {
         var input, filter, table, tr, td, i;
           input = document.getElementById("myInput");
           filter = input.value.toUpperCase();
           table = document.getElementById("myTable");
           tr = table.getElementsByTagName("tr");
           for (i = 0; i < tr.length; i++) {
             td = tr[i].getElementsByTagName("td")[0]; // for column one
              td1 = tr[i].getElementsByTagName("td")[5]; // for column two
              td3 = tr[i].getElementsByTagName("td")[1];
         /* ADD columns here that you want you to filter to be used on */
             if (td) {
               if ( (td3.innerHTML.toUpperCase().indexOf(filter) > -1) || (td.innerHTML.toUpperCase().indexOf(filter) > -1) || (td1.innerHTML.toUpperCase().indexOf(filter) > -1) )  {            
                 tr[i].style.display = "";
               } else {
                 tr[i].style.display = "none";
               }
             }
           }
         } 
      </script>
   </body>
</html>